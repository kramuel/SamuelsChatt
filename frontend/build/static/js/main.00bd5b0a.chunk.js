(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{137:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var c,s=n(1),a=n(0),i=n.n(a),r=n(65),o=n.n(r),j=n(26),u=n(2),l=n(13),d=(n(76),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),o=r[0],u=r[1],d=function(e){!function(e){n&&o||e.preventDefault()}(e)};return Object(s.jsx)("div",{className:"joinBox",children:Object(s.jsxs)("div",{className:"joinInnerBox",children:[Object(s.jsx)("h3",{className:"heading",children:"Samuels Chatt!"}),Object(s.jsxs)("form",{onSubmit:d,children:[Object(s.jsx)("div",{children:Object(s.jsx)("input",{placeholder:"Namn..",className:"joinInput",type:"text",onChange:function(e){c(e.target.value)}})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{placeholder:"Rum..",className:"joinInput mt-20",type:"text",onChange:function(e){u(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?d(e):null}})}),Object(s.jsx)(j.b,{onClick:d,to:"/chat?name=".concat(n,"&room=").concat(o),children:Object(s.jsx)("button",{className:"button mt-20",type:"submit",children:"Logga in"})})]})]})})}),b=n(70),m=n(67),h=n(68),O=n.n(h),f=n(69),x=n.n(f),p=(n(137),function(e){var t=e.location,n=Object(a.useState)(""),i=Object(l.a)(n,2),r=i[0],o=i[1],j=Object(a.useState)([]),u=Object(l.a)(j,2),d=u[0],h=u[1],f=Object(a.useState)([]),p=Object(l.a)(f,2),v=p[0],N=p[1],g=Object(a.useState)(""),B=Object(l.a)(g,2),S=B[0],y=B[1],k="192.168.10.131:5000";Object(a.useEffect)((function(){var e=x.a.parse(t.search),n=e.name,s=e.room;return c=m(k),o(s),c.emit("join",{name:n,room:s},(function(e){e&&alert(e)})),function(){c.emit("disconnect"),c.off()}}),[k,t.search]),Object(a.useEffect)((function(){return c.on("message",(function(e){N([].concat(Object(b.a)(v),[e]))})),c.on("roomUsers",(function(e){console.log(e),h(e)})),function(){c.off()}}),[v]);var C=function(e){e.preventDefault(),S&&c.emit("sendMessage",S,(function(){y("")}))};return Object(s.jsx)("div",{className:"chatBox",children:Object(s.jsxs)("div",{className:"chatInnerBox",children:[Object(s.jsxs)("div",{className:"infoBar",children:[Object(s.jsx)("div",{className:"infoBarLeft",children:Object(s.jsx)("p",{children:r})}),Object(s.jsx)("div",{className:"infoBarRight",children:Object(s.jsx)("a",{href:"/",className:"exit",children:"X"})})]}),Object(s.jsxs)("div",{className:"mainBox",children:[Object(s.jsx)(O.a,{className:"messages",children:v.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:["<",e.user,">: ",e.text]})},t)}))}),Object(s.jsx)("div",{className:"usersBox",children:d.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:e.name})},t)}))})]}),Object(s.jsxs)("form",{className:"form",children:[Object(s.jsx)("input",{className:"input",type:"text",placeholder:"Skriv ett meddelande...",value:S,onChange:function(e){var t=e.target.value;return y(t)},onKeyPress:function(e){return"Enter"===e.key?C(e):null}}),Object(s.jsx)("button",{className:"sendButton",onClick:function(e){return C(e)},children:"Send"})]})]})})}),v=function(){return Object(s.jsxs)(j.a,{children:[Object(s.jsx)(u.a,{exact:!0,path:"/",component:d}),Object(s.jsx)(u.a,{path:"/chat",component:p})]})};o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root"))},76:function(e,t,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.00bd5b0a.chunk.js.map